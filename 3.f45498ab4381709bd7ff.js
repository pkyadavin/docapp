(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{Aa7q:function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"d",function(){return o}),r.d(t,"c",function(){return h}),r.d(t,"b",function(){return c});var s=r("QTcH"),i=function(){return function(e){try{this.brand=e&&e.brand||"",this.request_header_id=e&&e.request_header_id||"",this.return_ref_number=e&&e.return_ref_number||"",this.rma_number=e&&e.rma_number||"",this.internal_ref_number=e&&e.internal_ref_number||"",this.remarks=e&&e.remarks||"",this.created_date=e&&e.created_date||"",this.delivery_info=null==e?new n:new n(e.customer_ga),this.billing_info=null==e?new n:new n(e.customer_ga),this.delivery_address=null==e?new a:new a(e.address_ga),this.billing_address=null==e?new a:new a(e.address_ga),this.items=e&&e.items_gaia&&$.map(s.c.parse(e.items_gaia),function(e,t){return new o(e)})||[],this.labels=null==e?new h:new h(e.labels),this.files=null==e?new h:new h(e.files),this.status=null==e?new d:new d(e.status)}catch(t){}}}(),n=function(){return function(e){this.company_name=e&&e.company_name||"",this.company_registration=e&&e.company_registration||"",this.first_name=e&&e.first_name||"",this.last_name=e&&e.last_name||"",this.direct_phone=e&&e.direct_phone||"",this.email=e&&e.email||""}}(),a=function(){return function(e){this.address_line1=e&&e.address_line1||"",this.address_line2=e&&e.address_line2||"",this.postal_code=e&&e.postal_code||"",this.state=e&&e.state||"",this.city=e&&e.city||"",this.state_code=e&&e.state_code||"",this.state_code=e&&e.state_code||"",this.country=e&&e.country||"",this.state_id=e&&e.country_id||0,this.country_id=e&&e.country_id||0,this.country_code=e&&e.country_code||"",this.Company=e&&e.Company||"",e&&(this.complete_address+=this.Company.length<=0?"":this.Company+", ",this.complete_address+=this.complete_address+=this.address_line1.length<=0?"":this.address_line1+", ",this.complete_address+=this.address_line2.length<=0?"":this.address_line2+", ",this.complete_address+=this.city.length<=0?"":this.city+", ",this.complete_address+=this.state_code.length<=0?"":this.state_code+", ",this.complete_address+=this.country.length<=0?"":this.country+", ",this.complete_address+=this.postal_code.length<=0?"":this.postal_code)}}(),o=function(){return function(e){this.request_detail_id=e&&e.request_detail_id||"",this.request_header_id=e&&e.request_header_id||"",this.internal_ref_number=e&&e.internal_ref_number||"",this.remarks=e&&e.remarks||"",this.serial_number=e&&e.serial_number||"",this.date_of_purchase=e&&e.date_of_purchase||"",this.sku=e&&e.sku||"",this.warranty_status=e&&e.warranty_status||"",this.warranty_status_id=e&&e.warranty_status_id||0,this.return_reason=null==e?new u:new u(e.return_reason),this.files=e&&e.files&&$.map(s.c.parse(e.files),function(e,t){return new h(e)})||[],this.authorize_action=null==e?new l:new l(e.authorize_action),this.labels=null==e?new h:new h(e.labels),this.status=null==e?new d:new d(e.files),this.isSelected=e&&e.isSelected||!1}}(),u=function(){return function(e){this.approval_required=e&&e.approval_required||!1,this.comment_required=e&&e.comment_required||!1,this.file_required=e&&e.file_required||!1,this.rma_action_code=e&&e.rma_action_code||"",this.rma_action_name=e&&e.rma_action_name||"",this.on_BO=e&&e.on_BO||!1,this.category_code=e&&e.category_code||"",this.category_name=e&&e.category_name||""}}(),l=function(){return function(e){this.actiontaken=e&&e.actiontaken||!1,this.isauthorized=e&&e.isauthorized||!1,this.authorized_date=e&&e.authorized_date||"",this.authorized_by=e&&e.authorized_by||"",this.authorized_reason_id=e&&e.authorized_reason_id||"",this.authorized_comment=e&&e.authorized_comment||"",this.authorized_by_name=e&&e.authorized_by_name||"",this.authorized_reason_name=e&&e.authorized_reason_name||"",this.authorized_approve_date_code=e&&e.authorized_approve_date_code||""}}(),h=function(){return function(e){this.type=e&&e.type||"",this.url=e&&e.url||"",this.name=e&&e.name||""}}(),d=function(){return function(e){this.code=e&&e.code||"",this.status=e&&e.status||"",this.statusClass=e&&e.statusClass||"",this.status_id=e&&e.status_id||0,this.showinCP=e&&e.showinCP||"",this.showinBO=e&&e.showinBO||""}}(),c=function(){return function(e){this.request_header_id=e&&e.request_header_id||0,this.request_detail_id=e&&e.request_detail_id||0,this.internal_ref_number=e&&e.internal_ref_number||"",this.serial_number=e&&e.serial_number||"",this.item_number=e&&e.item_number||"",this.purchase_date=e&&e.purchase_date||"",this.warranty_status=e&&e.warranty_status||"",this.isSelected=e&&e.isSelected||!1}}()},J5b3:function(e,t,r){"use strict";var s=r("mrSG"),i=r("FR0u"),n=r("kLqA"),a=r("Aa7q"),o=function(){function e(e,t,r,s,n,o,u,l){this.activatedRoute=e,this._returnService=t,this._util=r,this._router=s,this.templateService=n,this.window=o,this.titleService=u,this.ngxUiLoaderService=l,this._postBP_returnRequest=new i.g,this._bp_files=new a.c,this.hasShippingAddress=!1,this.isLoaded=!1,this.hereby=!1,this.found=!0,this._mainRMAObj=new i.e,this._addHeaderInfo=new i.d,this._customerNewAddres=new i.i,this.parentReturnReasons=[],this.multilevelReturnReason=[],this.ordernumber="",this.numberOfParcels=1,this.imageData=new i.b,this.returnfreight=[],this.address_popupdisplay="none",this.selected_in_freight=[],this.selected_out_freight=[],this.email="",this.ReturnDaysValid=!0,this.ReturnDays=0,this.processableItems=[],this.arr=[],this._address=new i.i,this._states=[],this._country=[],this.stateName="",this.showPopup=!1,this.isInside=!1,this.current_customer_data=[],this.is_pending_ub_case=!1,this.tempVal=0,this.minVal=0,this.serviceLevel="",this.returnFreightObj="",this.totalNumberOfParcel=[{val:1}],this.shippingAddressList=[],this.customerShippingAddressList=new Array,this.packageWeight=0,this.serialNumber=0,this.orderAmount=0,this.SelectedFreight="",this.isInWarranty=!1,this.gaiaCustomer=new i.f,this.gaiaNewItems=new i.n,this.new_added_address=new i.i,this.isSubmit=!1}return e.prototype.getlangval=function(e){var t=this;if(this.langKeyVal){var r=this.langKeyVal.filter(function(r){return r.LanugaugeKey==e&&r.formname==t.formname})[0];if(r)return r.ChangedLangValue?r.ChangedLangValue:r.EngLangValue}},e.prototype.getlangbykey=function(e){var t=this;if(this.langKeyVal){var r=this.langKeyVal.filter(function(r){return r.EngLangValue.toLowerCase()==e.toLowerCase()&&r.formname==t.formname})[0];if(r)return r.ChangedLangValue?r.ChangedLangValue:r.EngLangValue}},e.prototype.GetOrderData=function(){var e=this;return new Promise(function(t,r){e.order=new i.h,e._returnService.order(e.getParamData()).subscribe(function(r){null!=r.payload&&(t(r),e.ReturnDays=r.payload.ReturnDays)},function(e){console.log(e),r()})})},e.prototype.setBrandConfig=function(){var e=this;return new Promise(function(t,r){e._returnService.brandConfig(e.brand,e.language).subscribe(function(s){if(e.langKeyVal=JSON.parse(s.langconfig).languageData,e.brandconfig=JSON.parse(s.brandconfig),e.FAQ=JSON.parse(s.faqConfig).FAQ,e._returnService.langKeyVal=JSON.parse(s.langconfig).languageData,e._returnService.brandconfig=JSON.parse(s.brandconfig),e._returnService.FAQ=JSON.parse(s.faqConfig).FAQ,e.actual_language_code=e.language,0==JSON.parse(s.LanguageList).languageList.filter(function(t){return t.Code.toLowerCase()===e.language.toLowerCase()}).length){var n=JSON.parse(s.LanguageList).languageList.filter(function(e){return!0===e.IsDefault});0!=n.length&&(e.language=n[0].Code)}$("#appFavicon").attr("href",null!=e.brandconfig&&e.brandconfig.Logo?"assets/img/"+e.brandconfig.PartnerName.toLowerCase()+"-favicon.ico":"assets/img/favicon.ico"),"Search Page"==e.formname?(e._returnService.lblSummaryLabel=e.getlangval("lbl_banner_search"),e.titleService.setTitle(e._returnService.lblSummaryLabel)):"Summary"==e.formname?(e._returnService.lblSummaryLabel=e.getlangval("lbl_banner_returnconfirm"),e.titleService.setTitle(e._returnService.lblSummaryLabel)):"Check Status"==e.formname?(e._returnService.lblSummaryLabel=e.getlangval("lbl_banner_returnstatus"),e.titleService.setTitle(e._returnService.lblSummaryLabel)):"TrackAll"==e.formname&&(e._returnService.lblSummaryLabel=e.getlangval("lbl_return_history"),e.titleService.setTitle(e._returnService.lblSummaryLabel)),"Return"==e.formname?(e._returnService.lblSummaryLabel=e.getlangval("lbl_banner_search"),e.titleService.setTitle(e._returnService.lblSummaryLabel),e.GetOrderData().then(function(r){e.order.customer_order=new i.c(r.payload),e.order.customer_order.order_number.length<=0||(e.populateOrder(r),t())},function(e){r()})):"Summary"!=e.formname&&"Check Status"!=e.formname||(e.isLoaded=!0,e.getReturnOrder().then(function(r){e.isLoaded=!1,t()},function(e){r()}))},function(e){})})},e.prototype.getParamData=function(){var e="";return e+=this.ordernumber.length>0?this.ordernumber+"|":"|",e+=this.email.length>0?this.email+"|":"|",(e+=this.language.length>0?this.language+"|":"|")+(this.brand.length>0?this.brand:"")},e.prototype.chechkALL=function(e){var t=e.target.checked;this.current_customer_data.forEach(function(e){return e.isSelected=t})},e.prototype.chechkSRNO=function(e,t){for(var r=e.target.checked,s=0,i=this.current_customer_data;s<i.length;s++)(o=i[s]).serial_number==t&&(o.isSelected=r,sessionStorage.setItem("searchItemChechked",JSON.stringify(this.current_customer_data)));if(!r)for(var n=0,a=this.current_customer_data;n<a.length;n++){var o;(o=a[n]).serial_number==t&&(o.isSelected=!1,sessionStorage.setItem("searchItemChechked",JSON.stringify(this.current_customer_data)))}this.found=this.current_customer_data.some(function(e){return 0==e.isSelected}),this.found?$("#allcb").prop("checked",!1):$("#allcb").prop("checked",!0)},e.prototype.deleteItem=function(e){this.current_customer_data.splice(e,1),this.processableItems.splice(e,1),sessionStorage.setItem("searchItemChechked",JSON.stringify(this.current_customer_data))},e.prototype.GetDataFromOrderService=function(){var e=this,t=this.templateService.getOrderObject();t&&(this.reasons=t.reasons,this.order=t._order,t.current_selected_item.forEach(function(t){1==t.isSelected&&(e.processableItems.push(t),e.fetchAddHeaderInfo())}),this.returnfreight=t.returnfreight,this.shippingAddressList=t.shippingAddressList,this.order.return_DC=t.shippingAddress,this._address=t._address,this._states=t._states,this._country=t._country,this.brandconfig=t.brandconfig,this.langKeyVal=t.langconfig,this.customer_display=t.customer_display,this.serialNumber=t.serialNumber,this.maxParcels=t.maxParcels)},e.prototype.getReturnOrder=function(){var e=this;return new Promise(function(t,r){e._returnService.returnOrder(e.ordernumber+"|"+e.language).subscribe(function(t){null!=t.payload&&(e.order=new i.h(t.payload),e.order.return_DC=new i.o(t.return_address),e.customer_display=new i.l(JSON.parse(JSON.stringify(e.order.customer))),e.return_freight=t.return_freight,e.track_status=t.track_status,e.parcel_track_status=t.parcel_track_status,"Summary"==e.formname?$("#lblSummaryLabel").html(e.getlangval("lbl_banner_search")):"Check Status"==e.formname&&$("#lblSummaryLabel").html(e.getlangval("lbl_banner_search")),e._returnService.orderFound=!0)},function(e){r()})})},e.prototype.selectFreight=function(e){this._addHeaderInfo.selected_inbound_freight.push(e)},e.prototype.selectFreightOut=function(e){this._addHeaderInfo.selected_outbound_freight.push(e)},e.prototype.getQtyArray=function(e){for(var t=[],r=Number(e),s=1;s<=r;s++)t.push(s);return t},e.prototype.triggerFile=function(e){console.log("proffofpurchase"),$("#file_"+e).trigger("click")},e.prototype.removeUploadedImage=function(e,t){t.items.forEach(function(r){if(r.product_number==t.product_number){var s=r.files.indexOf(e,0);s>-1&&r.files.splice(s,1)}})},e.prototype.validateImages=function(e,t){console.log(e),console.log(t);var r=0;if(!t)return this._util.error(this.getlangval("lbl_banner_search"),"Error"),!1;if(!(e.length>0))return this._util.error(this.getlangval("lbl_banner_search"),"Error"),!1;if(!(e.length<=5))return this._util.error(this.getlangval("lbl_banner_search"),"Error"),!1;for(var s=0;s<e.length;s++)r=e[s].size;return!(r>5e6&&(this._util.error(this.getlangval("lbl_banner_search"),"Error"),1))},e.prototype.onReasonChange=function(e,t,r){if("undefined"!=e){var s=this.processableItems[r].items.filter(function(e){return e.product_number==t[0].product_number})[0],i=this.reasons.filter(function(t){return t.rma_action_code==e});s.return_reason=i[0]}},e.prototype.onReasonChangeGAIA=function(e,t,r){if("undefined"!=e){var s=this.reasons.filter(function(t){return t.rma_action_code==e});this.gaiaCustomer.items.forEach(function(e){e.uniques_id==t.uniques_id&&(e.return_reason=s[0])})}},e.prototype.handleFile=function(e,t,r,s,i){var n=this;console.log(e);var a=e.target.files;if(null!=a&&(console.log(a),a.length>0)){for(var o=/([a-zA-Z0-9\s_\\.\-\(\):])+(.gif|.jpg|.jpeg|.png|.xlsx|.xls|.doc|.docx|.txt|.pptx|.pdf)$/,u=0;u<a.length;u++)if(!a[u].name.match(o))return void this._util.error(this.getlangval("lbl_invaild_file_select"),"Alert");if(a.length>0&&(console.log(a),this.validateImages(a,r))){for(var l=new FormData,h=0;h<a.length;h++)l.append("UserImage",a[h]),console.log(l.getAll("name"));this._returnService.uploadImages(l).subscribe(function(e){null!=e.files&&null!=e.files&&n.processableItems.forEach(function(r){if(r.serial_number==t.serial_number)for(var s=0;s<e.files.length;s++)r.items[0].files.length>0&&r.items[0].files.splice(0,1),r.items[0].files.push({type:e.files[s].split("/").pop(),url:e.files[s],name:e.files[s].split("/").pop()})})},function(e){return console.log(e)})}}s.value=""},e.prototype.updateAddress=function(){var e=this;if(this.ngxUiLoaderService.start(),this._address=new i.i,this.new_added_address){this._address=this.new_added_address;var t=this._states.filter(function(t){return t.StateName==e.new_added_address.state}),r=this._country.filter(function(t){return t.CountryCode==e.new_added_address.country_code});this._address.country_id=r[0].CountryID,this._address.country=r[0].CountryName,this._address.country_code=r[0].CountryCode,this._address.state_id=t[0].StateID,this._address.complete_address+=this.new_added_address.Company.length<=0?"":this.new_added_address.Company+", ",this._address.complete_address+=this.new_added_address.building.length<=0?"":this.new_added_address.building+", ",this._address.complete_address+=this.new_added_address.street1.length<=0?"":this.new_added_address.street1+", ",this._address.complete_address+=this.new_added_address.street2.length<=0?"":this.new_added_address.street2+", ",this._address.complete_address+=this.new_added_address.city.length<=0?"":this.new_added_address.city+", ",this._address.complete_address+=this.new_added_address.state.length<=0?"":this.new_added_address.state+", ",this._address.complete_address+=this.new_added_address.country_code.length<=0?"":this.new_added_address.country_code+", ",this._address.complete_address+=this.new_added_address.postal_code.length<=0?"":this.new_added_address.postal_code}this._address.isDefault=!0,this.customerShippingAddressList.forEach(function(e){e.isDefault=!1}),this.customerShippingAddressList.push(this._address),this._addHeaderInfo.select_customer.address=this._address,this._addHeaderInfo.select_customer.address.complete_address=this._address.complete_address,console.log(this.customerShippingAddressList),this.new_added_address=new i.i,this.new_added_address.country_code=this._addHeaderInfo.select_customer.address.country_code,this.ngxUiLoaderService.stop()},e.prototype.chechkAddress=function(e,t){this.customerShippingAddressList.forEach(function(e){e.isDefault=!1}),this.customerShippingAddressList[t].isDefault=!0,console.log(this.customerShippingAddressList[t]),this._addHeaderInfo.select_customer.address=e,this._addHeaderInfo.select_customer.address.complete_address=e.complete_address,$("#addressModal").modal("hide")},e.prototype.closeModalDialog=function(){$("#addressModal").modal("hide")},e.prototype.statusNumber=function(e){var t=this.track_status.filter(function(t){return t.code==e.status.code})[0];return t?t.status_sequence:1},e.prototype.onBack=function(){$("#lblSummaryLabel").html(this.getlangval("lbl_banner_search")),this._router.navigate([this._returnService.getTemplateSchema([{key:"step",value:"step1"}])])},e.prototype.goBackHome=function(){this._router.navigate([this._returnService.getTemplateSchema([{key:"step",value:"search"}])])},e.prototype.goSearchPage=function(){this.window.location.href=this._returnService.getTemplateSchema([{key:"step",value:"search"},{key:"ordernumber",value:""}])},e.prototype.goTrackStatus=function(){this.window.location.href=this._returnService.getTemplateSchema([{key:"step",value:"track"},{key:"ordernumber",value:this._internal_ref_number}])},e.prototype.ValidateEmail=function(e){return!!/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},e.prototype.saveGAIA=function(e,t){var r=this;this.arr=[],this.gaiaCustomer.items.forEach(function(e){r.arr.push(e.serial_number)}),this.find_duplicate_in_array(this.arr)?(this.gaiaCustomer.delivery_info=new i.m,this.gaiaCustomer.delivery_address=new i.j,"yes"==e&&(this.gaiaCustomer.delivery_info=this.gaiaCustomer.billing_info,this.gaiaCustomer.delivery_address=this.gaiaCustomer.billing_address),this.validateGAIA(t)&&(console.log("this.gaiaCustomer",JSON.stringify(this.gaiaCustomer)),this.ngxUiLoaderService.start(),this._returnService.saveGAIA(this.gaiaCustomer).subscribe(function(e){r.ngxUiLoaderService.stop(),null!=e&&null!=e&&"Success"==e.recordsets[0][0].status?(r.isSubmit=!1,r._util.success("Request successfully submitted - "+e.recordsets[0][0].return_order_number,"Alert"),r._internal_ref_number=e.recordsets[0][0].line,r.goToConfirmationGAIA(e.recordsets[0][0].line)):r._util.error(r.getlangval("lbl_banner_search"),"Alert")}))):this._util.error("Serial # already exists.","warning")},e.prototype.validateGAIA=function(e){for(var t=0,r=this.gaiaCustomer.items;t<r.length;t++){var s=r[t];if(s.serial_number.length<=0)return;if(s.return_reason.rma_action_code.length<=0)return;this.gaiaCustomer.items[0].date_of_purchase.length<=0&&(this.gaiaNewItems.date_of_purchase=e)}return!0},e.prototype.SaveRMA=function(){var e=this;this.isSubmit=!0,""!=this._addHeaderInfo.primary_email&&!this.ValidateEmail(this._addHeaderInfo.primary_email)||null!=this._addHeaderInfo.secondary_email&&""!=this._addHeaderInfo.secondary_email&&!this.ValidateEmail(this._addHeaderInfo.secondary_email)?this._util.error("Please provide a valid email.","warning"):(this._mainRMAObj=new i.e,this._mainRMAObj._addHeaderInfo=this._addHeaderInfo,this._mainRMAObj._OrderObject=this.processableItems,console.log("_mainRMAObj",JSON.stringify(this._mainRMAObj)),this.ngxUiLoaderService.start(),this._returnService.saveTempRMA(this._mainRMAObj).subscribe(function(t){e.ngxUiLoaderService.stop(),null!=t&&null!=t&&"Success"==t.recordsets[0][0].status?(e.isSubmit=!1,e._util.success("Request successfully submitted - "+t.recordsets[0][0].return_order_number,"Alert"),e._internal_ref_number=t.recordsets[0][0].line,e.goToConfirmation(t.recordsets[0][0].line)):e._util.error(e.getlangval("lbl_banner_search"),"Alert")}))},e.prototype.onContinue=function(e){if(e.valid){if(this.order.customer_order.items.length<=0)return void this._util.error(this.getlangval("lbl_banner_search"),"Alert");this.templateService.SetDataToOrderService({_order:this.order,returnfreight:this.return_freight,shippingAddressList:this.shippingAddressList,shippingAddress:this.order.return_DC,customer:this.order.customer,_address:this._address,_states:this._states,reasons:this.reasons,brandconfig:this.brandconfig,langconfig:this.langKeyVal,customer_display:this.customer_display,serialNumber:this.serialNumber,maxParcels:this.maxParcels,_country:this._country}),this._router.navigate([this._returnService.getTemplateSchema([{key:"step",value:"step2"}])]),$("#lblSummaryLabel").html(this.getlangval("lbl_banner_search"))}else this._util.error(this.getlangval("lbl_banner_search"),"Alert")},e.prototype.goToConfirmationGAIA=function(e){this.window.location.href=this._returnService.getTemplateSchema([{key:"step",value:"reqconfirm"},{key:"ordernumber",value:e}])},e.prototype.goToConfirmation=function(e){this.window.location.href=this._returnService.getTemplateSchema([{key:"step",value:"step3"},{key:"ordernumber",value:e}])},e.prototype.goToTrackStatus=function(e,t){this._router.navigate([this._returnService.getTemplateSchema([{key:"step",value:"track"},{key:"ordernumber",value:e}])])},e.prototype.onSearch=function(e){var t=this;!this.ordernumber||this.ordernumber.length<=0?this._util.error(this.getlangval("lbl_alert_validate_serial"),"Alert"):(this.ngxUiLoaderService.start(),this.GetOrderData().then(function(e){t.ngxUiLoaderService.stop(),e.payload.id?e.payload.brand.toLowerCase()===t.brand.toLowerCase()?(t.ordernumber="",0==t.current_customer_data.length?(t.order.customer_order=new i.c(e.payload),t.order.returnfreight=e.return_freight,sessionStorage.setItem("frieghtItem",JSON.stringify(e.return_freight)),t.return_freight=e.return_freight,t.order.return_DC=e.return_address[0],t._states=e.states,t._country=e.country,t.current_customer_data.push(t.order.customer_order),t.populateOrder(e)):t.current_customer_data.find(function(e){return e.serial_number==t.ordernumber})?t._util.warning("Serial# already exists",""):(t.order.customer_order=new i.c(e.payload),t.order.returnfreight=e.return_freight,t.order.return_DC=e.return_address[0],t.return_freight=e.return_freight,t._states=e.states,t._country=e._country,t.current_customer_data.push(t.order.customer_order),sessionStorage.setItem("frieghtItem",JSON.stringify(e.return_freight)),t.populateOrder(e))):t._util.error("Serial# does not belongs to current Brand.","Alert"):t._util.error(t.getlangval("lbl_unknownserial"),"Alert")}))},e.prototype.populateOrder=function(e){this.order.customer_order=new i.c(e.payload),this.maxParcels=e.payload.maxParcels,this.reasons=e.reason.filter(function(e){return 1==e.on_CP}),this.shippingAddressList=e.return_address,this.order.return_DC=new i.o(this.shippingAddressList.filter(function(e){return 0==e.itemlevel})[0]),this.order.customer=this.order.customer_order.customer,this._address=new i.i(this.order.customer_order.customer.address),this.isLoaded=!0,this.getParamData().indexOf("|")>0&&(this.customer_display=new i.l(JSON.parse(JSON.stringify(this.order.customer))),this.templateService.SetDataToOrderService({_order:this.order,returnfreight:this.return_freight,shippingAddressList:this.shippingAddressList,shippingAddress:this.order.return_DC,customer:this.order.customer,_address:this._address,_states:this._states,_country:this._country,reasons:this.reasons,brandconfig:this.brandconfig,langconfig:this.langKeyVal,customer_display:this.customer_display,serialNumber:this.serialNumber,maxParcels:this.maxParcels,current_selected_item:this.current_customer_data})),$("#lblSummaryLabel").html(this.getlangval("lbl_banner_search"))},e.prototype.replaceProduct=function(){for(var e=0,t=0,r=this.current_customer_data;t<r.length;t++)(a=r[t]).isSelected&&(e+=1);if(e<=0)this._util.error("Please select at-least one Product process Request Replacement.","Alert");else{this.ngxUiLoaderService.start(),this.processableItems=[];for(var s=0,i=this.current_customer_data;s<i.length;s++){var a;(a=i[s]).isSelected&&(a.customer.address.country_code=a.customer.address.country,a.customer.address.state=a.customer.address.state_code,a.items[0].extra.return_DC=this.shippingAddressList.code,a.items[0].extra.service_type="Standard",this.processableItems.push(a),this.fetchAddHeaderInfo())}sessionStorage.setItem("searchItemChechked",JSON.stringify(this.processableItems)),sessionStorage.getItem("frieghtItem"),null===sessionStorage.getItem("frieghtItem")&&sessionStorage.setItem("frieghtItem",JSON.stringify(this.return_freight)),this.templateService.SetDataToOrderService({_order:this.order,returnfreight:this.returnfreight,shippingAddressList:this.shippingAddressList,shippingAddress:this.order.return_DC,customer:this.order.customer,_address:this._address,_states:this._states,_country:this._country,reasons:this.reasons,brandconfig:this.brandconfig,langconfig:this.langKeyVal,customer_display:this.customer_display,serialNumber:this.serialNumber,maxParcels:this.maxParcels,current_selected_item:this.processableItems}),this.ngxUiLoaderService.stop(),this._router.navigate([this._returnService.getTemplateSchema([{key:"step",value:"step1"},{key:"ordernumber",value:n.Guid.create()}])])}},e.prototype.goPrevSearch=function(){this.ngxUiLoaderService.start(),this._router.navigate([this._returnService.getTemplateSchema([{key:"step",value:"search"},{key:"ordernumber",value:""}])]),setTimeout(function(){},300),this.ngxUiLoaderService.stop()},e.prototype.goPrevStep1=function(){this._router.navigate([this._returnService.getTemplateSchema([{key:"step",value:"step1"}])])},e.prototype.fetchAddHeaderInfo=function(){this.processableItems.length>=1&&(this._addHeaderInfo.select_customer=this.processableItems[0].customer,this.customer_display=this._addHeaderInfo.select_customer,this._addHeaderInfo.primary_email=this.processableItems[0].customer.primary_email,this._addHeaderInfo.secondary_email=this.processableItems[0].customer.secondary_email)},e.prototype.replaceProductContinue=function(){this.formname="Return",this.templateService.SetDataToOrderService({_order:this.order,returnfreight:this.returnfreight,shippingAddressList:this.shippingAddressList,shippingAddress:this.order.return_DC,customer:this.order.customer,_address:this._address,_states:this._states,_country:this._country,reasons:this.reasons,brandconfig:this.brandconfig,langconfig:this.langKeyVal,customer_display:this.customer_display,serialNumber:this.serialNumber,maxParcels:this.maxParcels,current_selected_item:this.processableItems});for(var e=0,t=this.processableItems;e<t.length;e++){var r=t[e];if(r.isSelected&&r.items[0].return_reason.rma_action_name.length<=0)return void this._util.error(this.getlangval("lbl_return_reason_mandat"),"Alert")}var s=!0;this.processableItems.filter(function(e){return 84==e.warranty_status_id}).forEach(function(e){e.items.forEach(function(e){0!=e.files.length||(s=!1)})}),s?(this.ngxUiLoaderService.start(),sessionStorage.setItem("searchItemChechked",JSON.stringify(this.processableItems)),sessionStorage.getItem("frieghtItem"),null===sessionStorage.getItem("frieghtItem")&&sessionStorage.setItem("frieghtItem",JSON.stringify(this.returnfreight)),this.ngxUiLoaderService.stop(),this._router.navigate([this._returnService.getTemplateSchema([{key:"step",value:"step2"},{key:"ordernumber",value:this.ordernumber}])])):this._util.error(this.getlangval("lbl_proof_of_purchase"),"Alert")},e.prototype.printLabel=function(){this.order.labels.forEach(function(e){window.open(e.url,"_blank")})},e.prototype.multiplyShippingCost=function(e,t){return e*t},e.prototype.showDefaultImage=function(e,t){e.src=t.default_image},e.prototype.multiReturnReasonChange=function(e,t){var r=this.reasons.filter(function(t){return t.rma_action_code==e});r.length>0&&(t.return_reason=new i.a(r[0]))},e.prototype.getReturnReason=function(e){var t=this.reasons.filter(function(t){return t.rma_action_code==e});return console.log("reason Return",t[0].rma_action_name),t[0]},e.prototype.find_duplicate_in_array=function(e){var t={};for(var r in e.forEach(function(e){t[e]||(t[e]=0),t[e]+=1}),t)if(t[r]>1)return!1;return!0},e.prototype.startloader=function(){this.ngxUiLoaderService.start()},e.prototype.stoploader=function(){this.ngxUiLoaderService.stop()},e.prototype.onsubmitform=function(){var e=this;this._postBP_returnRequest.delivery_info.company_name.length<=0?this._util.error(this.getlangval("lbl_alert_enter_comp_name"),"Alert"):this._postBP_returnRequest.delivery_info.first_name.length<=0?this._util.error(this.getlangval("lbl_alert_enter_cont_name"),"Alert"):this._postBP_returnRequest.delivery_info.direct_phone.length<=0?this._util.error(this.getlangval("lbl_alert_enter_ph_number"),"Alert"):""==this._postBP_returnRequest.delivery_info.email||this.ValidateEmail(this._postBP_returnRequest.delivery_info.email)?this._postBP_returnRequest.delivery_address.address_line1.length<=0?this._util.error(this.getlangval("lbl_alert_enter_Address"),"Alert"):this._postBP_returnRequest.delivery_address.postal_code.length<=0?this._util.error(this.getlangval("lbl_alert_enter_zip"),"Alert"):this._postBP_returnRequest.delivery_address.city.length<=0?this._util.error(this.getlangval("lbl_alert_enter_city"),"Alert"):this._postBP_returnRequest.delivery_address.state.length<=0?this._util.error(this.getlangval("lbl_alert_enter_state"),"Alert"):this._postBP_returnRequest.item_detail.length<=0?this._util.error(this.getlangval("lbl_alert_enter_model"),"Alert"):(this._postBP_returnRequest.delivery_address.country.length<=0&&(this._postBP_returnRequest.delivery_address.country="USA"),this._postBP_returnRequest.brand=this.brand,console.log(JSON.stringify(this._postBP_returnRequest)),this._returnService.saveBlueParrottReturn(this._postBP_returnRequest).subscribe(function(t){e._internal_ref_number=t.recordsets[0][0].line,e._router.navigate([e._returnService.getTemplateSchema([{key:"step",value:"reqconfirm"},{key:"ordernumber",value:e._internal_ref_number}])]),setTimeout(function(){e._util.success("Request successfully submitted ","Alert")},100)},function(t){e._util.error(t,"Error")})):this._util.error(this.getlangval("lbl_alert_enter_valid_email"),"Alert")},e.prototype.handleFileInput=function(e,t){var r=this;this._bp_files=new a.c;var s=e.target.files;if(null!=s&&s.length>0){for(var i=/([a-zA-Z0-9\s_\\.\-\(\):])+(.gif|.jpg|.jpeg|.png|.xlsx|.xls|.doc|.docx|.txt|.pptx|.pdf)$/,n=0;n<s.length;n++)if(!s[n].name.match(i))return void this._util.error(this.getlangval("lbl_invaild_file_select"),"Alert");if(console.log(e.target.files[0].size),e.target.files[0].size/1024/1024>10)return void this._util.error("please select size less than 10mb","Alert");if(s.length>0&&this.validateImages(s,!0)){for(var o=new FormData,u=0;u<s.length;u++)o.append("UserImage",s[u]),console.log(o.getAll("name"));this._returnService.uploadImages(o).subscribe(function(e){if(console.log(e),null!=e.files&&null!=e.files)for(var t=0;t<e.files.length;t++)r._postBP_returnRequest.file.name=e.files[t].split("/").pop(),r._postBP_returnRequest.file.type=e.files[t].split("/").pop(),r._postBP_returnRequest.file.url=e.files[t],console.log(r._postBP_returnRequest.file)},function(e){return console.log(e)})}}t.value=""},e.prototype.bptrackstatus=function(e){console.log(this._internal_ref_number),this._router.navigate([this._returnService.getTemplateSchema([{key:"step",value:"reqtrack"},{key:"ordernumber",value:""}])])},e}();r.d(t,"a",function(){return u});var u=function(e){function t(t,r,s,i,n,a,o,u){var l=e.call(this,t,r,s,i,n,a,o,u)||this;return l._activatedRoute1=t,l._returnService1=r,l._utilily1=s,l._router1=i,l._templateService1=n,l.window1=a,l.titleService1=o,l}return s.__extends(t,e),t.prototype.setConfig=function(){var e=this;this.setBrandConfig().then(function(t){console.log("result",t),e.customer_display=new i.l(JSON.parse(JSON.stringify(e.order.customer)))})},t}(o)},iO6w:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var s=r("26FU"),i=function(){function e(){this.bsObsSingle=new s.a("default message"),this.bsObsSingleValue=this.bsObsSingle.asObservable()}return e.prototype.changeValueObjectData=function(e){this.bsObsSingle.next(e)},e.prototype.SetDataToOrderService=function(e){this.order=e},e.prototype.getOrderObject=function(){return this.order},e.prototype.setLanguageData=function(e){sessionStorage.setItem("_lang",e)},e.prototype.getLanguageData=function(){return JSON.parse(sessionStorage.getItem("_lang"))},e}()},mok9:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var s=r("6blF"),i=r("15JJ"),n=r("s0Cq"),a=(r("W4xs"),r("t/Na")),o=(r("FR0u"),r("QTcH"),function(){function e(e,t,r){this.http=e,this._auth=t,this._util=r,this._orderFound=!1,this.baseUrl=n.a.BASEURL,this.carrierAPI=n.a.BASEAPIURLForCarrier}return Object.defineProperty(e.prototype,"orderFound",{get:function(){return this._orderFound},set:function(e){this._orderFound=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"brandconfig",{get:function(){return this._brandconfig},set:function(e){this._brandconfig=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FAQ",{get:function(){return this._FAQ},set:function(e){this._FAQ=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"langKeyVal",{get:function(){return this._langKeyVal},set:function(e){this._langKeyVal=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lblSummaryLabel",{get:function(){return this._lblSummaryLabel},set:function(e){this._lblSummaryLabel=e},enumerable:!0,configurable:!0}),e.prototype.getTemplateByObject=function(e){return this.URLSchema.filter(function(t){return t.key==e})[0].value},e.prototype.getTemplateSchema=function(e){var t=this,r=[];return e.forEach(function(e,r){t.URLSchema.forEach(function(t,r){t.key==e.key&&(t.value=e.value)})}),this.URLSchema.forEach(function(e,t){r.push(e.value)}),r.join("/")},e.prototype.getValueFromSchemaByKey=function(e){var t=this.URLSchema.filter(function(t){return t.key==e})[0];return t?t.value:""},e.prototype.removeKeyFromTemplateSchema=function(e){var t=this;e.forEach(function(e,r){t.URLSchema.forEach(function(r,s){r.key==e.key&&t.URLSchema.splice(s,1)})})},Object.defineProperty(e.prototype,"setTemplateSchema",{set:function(e){this.URLSchema=e},enumerable:!0,configurable:!0}),e.prototype.getLanguage=function(e,t){void 0===t&&(t="en-us"),this.actionUrl=this.baseUrl+"lookup/languages/"+e+"/"+t+"/0";var r={headers:new a.h({"Content-Type":"application/json"})};return this.http.get(this.actionUrl,r)},e.prototype.brandConfig=function(e,t){return this.http.get(this.baseUrl+"lookup/languages/"+e+"/"+t)},e.prototype.order=function(e){console.log(e);var t=e.split("|");return this.http.post(this.baseUrl+"portal/return/findorder",JSON.stringify({ordernumber:t[0],email:t[1],LanguageCode:t[2],BrandCode:t.length>3&&t[3]||"none"}))},e.prototype.myorders=function(e,t,r){return this.http.get(this.baseUrl+"portal/return/track-all/"+e+"/"+t+"/"+r)},e.prototype.getCountryandReason=function(e){var t=e.split(",");return this.http.post(this.baseUrl+"portal/ga_return/fetchreturndata",JSON.stringify({LanguageCode:t[0],BrandCode:t[1]}))},e.prototype.trackstatusByRef=function(e){return this.http.get(this.baseUrl+"portal/return/trackByRef/"+e)},e.prototype.returnOrder=function(e){return this.http.get(this.baseUrl+"portal/return/all/"+e)},e.prototype.getReturnOrders=function(e,t,r,s,i,n){return this.http.get(this.baseUrl+"return/"+e+"/"+(t-e)+"/"+r+"/"+s+"/"+i+"/"+n)},e.prototype.saveRMAOrderDetail=function(e){return this.http.post(this.baseUrl+"return/customer",JSON.stringify(e))},e.prototype.uploadImages=function(e){return console.log("_formData",e),this.http.post(this.baseUrl+"portal/uploads/files",e)},e.prototype.getlabels=function(e){return this.http.post(this.carrierAPI+"api/carrier",JSON.stringify(e))},e.prototype.saveTempRMA=function(e){return this.http.post(this.baseUrl+"portal/return/saveGNreturn",JSON.stringify(e))},e.prototype.saveGAIA=function(e){return this.http.post(this.baseUrl+"portal/ga_return/saveGAIAreturn",JSON.stringify(e))},e.prototype.getGAIAConfirmation=function(e){return this.http.get(this.baseUrl+"portal/ga_return/trackByRef/"+e)},e.prototype.cancelrequest=function(e){return this.http.post(this.baseUrl+"portal/return/cancelReturnRequest",JSON.stringify(e))},e.prototype.saveRMA=function(e,t,r,n){var a=this;return 1==t||0==n?this.http.post(this.baseUrl+"portal/return/customer",JSON.stringify(e)):this.getlabels(e).pipe(Object(i.a)(function(t){if("ERROR"!=t.status&&"FATAL"!=t.status){var i=e.shipment.parcels;if(t.packages&&(e.shipment.parcels=t.packages),e.labels=t.labelURLs,e.custom_declaration=t.customURLs,e.shipment.parcels.length==i.length)for(var n=0;n<e.shipment.parcels.length;n++)e.shipment.parcels[n].oversized=i[n].oversized;return a.http.post(a.baseUrl+"portal/return/customer",JSON.stringify(e))}return a._util.error(r+(t.errorMessage?NaN+t.errorMessage:""),"Alert"),s.a.empty()}))},e.prototype.getUBParcelStatus1=function(e){var t=this,r=(new a.h({api_key:"72f01b7f-9bc6-41c9-ba1e-8d7481d2cfa7"}),{headers:new a.h({"Content-Type":"application/json"})});return r.headers=r.headers.append("api_key","72f01b7f-9bc6-41c9-ba1e-8d7481d2cfa7"),new Promise(function(s,i){t.http.get("https://api.coureon.com/api/v1_6/tracking/"+e,r).toPromise().then(function(e){s(e)})})},e.prototype.GenerateCustomDecalartionLabel=function(e){return this.http.post("http://localhost:3000/api/carrier/GenerateShippingLabel",JSON.stringify(e))},e.prototype.saveBlueParrottReturn=function(e){return this.http.post(this.baseUrl+"portal/bp_return/saveBPreturn",JSON.stringify(e))},e.prototype.getBPConfirmation=function(e){return this.http.get(this.baseUrl+"portal/bp_return/trackByRef/"+e)},e.prototype.getProductDetail=function(e){return this.http.get(this.baseUrl+"common/allitems/"+e)},e.prototype.getColorDetail=function(e){return this.http.get(this.baseUrl+"common/allcolor/"+e)},e.prototype.returnConsumerRequestDetail=function(e,t){return this.http.get(this.baseUrl+"portal/consumer_return/"+t+"/"+e)},e.prototype.updaetConsumerreturn=function(e){return this.http.post(this.baseUrl+"portal/consumer_return/updaetConsumerreturn",JSON.stringify(e))},e.prototype.consumer_initiation=function(e,t){return this.http.get(this.baseUrl+"portal/consumer_return/consumerInitiation/"+e+"/"+t)},e}())}}]);